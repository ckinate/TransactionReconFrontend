<div *ngIf="spinnerData$ | async as data" class="spinner-overlay d-flex justify-content-center align-items-center"
    [class.position-fixed]="data.config.backdrop" [class.position-absolute]="!data.config.backdrop"
    [style.background-color]="data.config.backdrop ? 'rgba(0, 0, 0, 0.5)' : 'rgba(255, 255, 255, 0.8)'">

    <div class="text-center p-4 bg-white rounded shadow" [class.bg-dark]="isDarkMode" [class.text-white]="isDarkMode">

        <!-- Bootstrap Spinner -->
        <div [class]="getSpinnerClasses(data.config)" role="status" aria-hidden="true">
        </div>

        <!-- Loading Message -->
        <div *ngIf="data.config.message" class="mt-3 fw-medium" [class.text-white]="isDarkMode">
            {{ data.config.message }}
        </div>

        <!-- Progress indicator (optional) -->
        <div *ngIf="showProgress" class="mt-3">
            <div class="progress" style="height: 4px;">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar"
                    style="width: 100%">
                </div>
            </div>
        </div>
    </div>
</div>